import{a as v}from"./adminNav-6f5ac7a6.js";import{n as g,_,q as b,s as F,x as y,k as x,l as w,y as E,o as d,c,d as e,e as a,v as r,g as U,t as T,w as V,F as h,r as p,a as u}from"./index-18355b94.js";const k=g(),C={data(){return{title:"",description:"",date:"",time:"",selectedFile:null,isUploading:!1,showAlmostThere:!1}},methods:{handleFileChange(l){this.selectedFile=l.target.files[0]},async submitForm(){if(this.selectedFile&&this.title&&this.description&&this.date&&this.time!==null){const l=b(k,"images/"+this.selectedFile.name);this.isUploading=!0,setTimeout(()=>{this.showAlmostThere=!0},1e4),await F(l,this.selectedFile).then(()=>{console.log("Image uploaded successfully!")}).catch(i=>{console.error("Error uploading image:",i)}),await new Promise(i=>setTimeout(i,1e3));const t=await y(l),m=x(w,"Events");await E(m,{title:this.title,description:this.description,time:this.time,date:this.date,imageUrl:t}),alert("Data save successfully"),console.log("Data saved successfully!"),this.isUploading=!1,this.isUploading=!1,this.$refs.uploadForm.reset(),this.title="",this.description="",this.date="",this.time="",this.selectedFile=null}else console.warn("No file selected.")}}},D=e("h1",null,"Create Events",-1),N={class:"mb-3 mt-4"},I=e("label",{for:"exampleInputName",class:"form-label"},"Add Event Image",-1),S={class:"mb-3"},A=e("label",{for:"exampleInputEmail1",class:"form-label"}," Event Title",-1),B={class:"mb-3"},L=e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Event Description",-1),R={class:"row"},q={class:"col-lg-6 col-md-6"},M={class:"mb-3"},P=e("label",{for:"datepicker",class:"form-label"},"Select Date:",-1),$={class:"col-lg-6 col-md-6"},j={class:"mb-3"},z=e("label",{for:"timepicker",class:"form-label"},"Select Time:",-1),G={key:0,type:"submit",class:"btn btn-secondary"},H=e("span",{class:"spinner-border spinner-border-sm text-white mx-2",role:"status"},null,-1),J={key:1,type:"submit",class:"btn btn-secondary"};function K(l,t,m,i,o,n){return d(),c(h,null,[D,e("form",{onSubmit:t[5]||(t[5]=V((...s)=>n.submitForm&&n.submitForm(...s),["prevent"])),ref:"uploadForm"},[e("div",N,[I,e("input",{type:"file",onChange:t[0]||(t[0]=(...s)=>n.handleFileChange&&n.handleFileChange(...s)),class:"form-control",id:"image",ref:"fileInput",required:""},null,544)]),e("div",S,[A,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":t[1]||(t[1]=s=>o.title=s)},null,512),[[r,o.title]])]),e("div",B,[L,a(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":t[2]||(t[2]=s=>o.description=s)},null,512),[[r,o.description]])]),e("div",R,[e("div",q,[e("div",M,[P,a(e("input",{type:"date",class:"form-control",id:"datepicker","onUpdate:modelValue":t[3]||(t[3]=s=>o.date=s)},null,512),[[r,o.date]])])]),e("div",$,[e("div",j,[z,a(e("input",{type:"time",class:"form-control",id:"timepicker","onUpdate:modelValue":t[4]||(t[4]=s=>o.time=s)},null,512),[[r,o.time]])])])]),o.isUploading?(d(),c("button",G,[H,U(" "+T(o.showAlmostThere?"Almost there..":"Loading..."),1)])):(d(),c("button",J,"Save"))],544)],64)}const O=_(C,[["render",K]]),Q={components:{adminEventForm:O,adminNavVue:v}},W={class:"container"},X={class:"row my-5"},Y={class:"col-lg-6 col-md-12"},Z=e("div",{class:"col-lg-6 col-md-12"},null,-1);function ee(l,t,m,i,o,n){const s=p("adminNavVue"),f=p("adminEventForm");return d(),c(h,null,[u(s),e("div",W,[e("div",X,[e("div",Y,[u(f)]),Z])])],64)}const oe=_(Q,[["render",ee]]);export{oe as default};
